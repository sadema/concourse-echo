---
resources:
- name: resource-concourse-echo
  type: git
  source:
    branch: master
    uri: https://github.com/sadema/concourse-echo.git

jobs:
- name: run-unit-tests
  public: true
  plan:
  - get: resource-concourse-echo
    trigger: true
  - task: unit-tests
    file: resource-concourse-echo/ci/task_run_unittests.yml

- name: build
  public: false
  plan:
    - get: resource-concourse-echo
      passed: [run-unit-tests]
      trigger: true
    - task: build-code
      file: resource-concourse-echo/ci/task_buildcode.yml